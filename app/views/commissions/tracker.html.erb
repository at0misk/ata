<style type="text/css">
	.container{
		min-height: 550px;
		background-color: white;
		margin-top: 15px;
	}
	.btn-col{
		text-align: center;
	}
	.sub-header{
		display: inline-block;
		margin-left: 10px;
	}
	.header-col{
		text-align: center;
	}
	.header-row{
		color: white;
		background-color: #153649;
		height: 60px;
		padding-top: 10px;
	}
	#tracker-form{
		margin-top: 15px;
	}
	.c2go-text{
		display: block;
	}
</style>

<div class="container">
	<div class="row header-row">
		<div class="col-sm-12 header-col">
			<h4 class="sub-header">Commission Tracking Form</h4>
		</div>
	</div>
	<form action="/specials" method="post" class="form-horizontal" enctype="multipart/form-data" id="tracker-form">
			<input name="authenticity_token" value="<%= form_authenticity_token %>" type="hidden">
			<input name="special[user_id]" type="hidden" value="<%= @user.id %>">
			<input name="special[featured]" type="hidden" value="false">
			<div class="row">
				<div class="form-group">
				    <label for="agent_first_name" class="col-sm-2 control-label">Agent First Name</label>
				    <div class="col-sm-8">
				        <input name="commission[agent_first_name]" type="text" class="form-control" id="agent_first_name" required/>
				    </div>
				</div>
			</div>
			<div class="row">
				<div class="form-group">
				    <label for="agent_last_name" class="col-sm-2 control-label">Agent Last Name</label>
				    <div class="col-sm-8">
				        <input name="commission[agent_last_name]" type="text" class="form-control" id="agent_last_name" required/>
				    </div>
				</div>
			</div>
			<div class="row">
				<div class="form-group">
				    <label for="agent_id_number" class="col-sm-2 control-label">Agent ID Number</label>
				    <div class="col-sm-8">
				        <input name="commission[agent_id_number]" type="number" class="form-control" id="agent_id_number" required/>
				    </div>
				</div>
			</div>
			<div class="row">
				<div class="form-group">
				    <label for="agent_email" class="col-sm-2 control-label">Agent Email</label>
				    <div class="col-sm-8">
				        <input name="commission[agent_email]" type="text" class="form-control" id="agent_email" required/>
				    </div>
				</div>
			</div>
			<div class="row">
				<div class="form-group">
				    <label for="agent_address" class="col-sm-2 control-label">Address</label>
				    <div class="col-sm-8">
				        <input name="commission[agent_address]" type="text" class="form-control" id="agent_address" required/>
				    </div>
				</div>
			</div>
			<div class="row">
				<div class="form-group">
				    <label for="agent_city" class="col-sm-2 control-label">City</label>
				    <div class="col-sm-8">
				        <input name="commission[agent_city]" type="text" class="form-control" id="agent_city" required/>
				    </div>
				</div>
			</div>
			<div class="row">
				<div class="form-group">
				    <label for="agent_state" class="col-sm-2 control-label">State</label>
				    <div class="col-sm-8">
				        <input name="commission[agent_state]" type="text" class="form-control" id="agent_state" required/>
				    </div>
				</div>
			</div>
			<div class="row">
				<div class="form-group">
				    <label for="agent_country" class="col-sm-2 control-label">Country</label>
				    <div class="col-sm-8">
				        <input name="commission[agent_country]" type="text" class="form-control" id="agent_country" required/>
				    </div>
				</div>
			</div>
			<div class="row">
				<div class="form-group">
				    <label for="traveler_names" class="col-sm-2 control-label">Traveler Names</label>
				    <div class="col-sm-8">
				        <textarea name="commission[traveler_names]" class="form-control" id="traveler_names" rows="8" required></textarea>
				        <div class="characters">0/250</div>
				    </div>
				</div>
			</div>
			<div class="row">
				<div class="form-group">
				    <label for="traveler_phone" class="col-sm-2 control-label">Primary Traveler Phone</label>
				    <div class="col-sm-8">
				        <input name="commission[traveler_phone]" type="number" class="form-control" id="traveler_phone" required/>
				    </div>
				</div>
			</div>
			<div class="row">
				<div class="form-group">
				    <label for="traveler_email" class="col-sm-2 control-label">Primary Traveler Email</label>
				    <div class="col-sm-8">
				        <input name="commission[traveler_email]" type="number" class="form-control" id="traveler_email" required/>
				    </div>
				</div>
			</div>
			<div class="row">
				<div class="form-group">
				    <label for="departure" class="col-sm-2 control-label">Departure Date</label>
				    <div class="col-sm-8">
				        <input name="commission[depart]" type="date" class="form-control" id="departure" min="<%= Date.today %>" required/>
				    </div>
				</div>
			</div>
			<div class="row">
				<div class="form-group">
				    <label for="return" class="col-sm-2 control-label">Return Date</label>
				    <div class="col-sm-8">
				        <input name="commission[return]" type="date" class="form-control" id="return" required/>
				    </div>
				</div>
			</div>
			<div class="row">
				<div class="form-group">
				    <label for="itinerary" class="col-sm-2 control-label">Itinerary (Include Ship Name for Cruises)</label>
				    <div class="col-sm-8">
				        <textarea name="commission[itinerary]" class="form-control" id="itinerary" rows="8" required></textarea>
				        <div class="characters">0/250</div>
				    </div>
				</div>
			</div>
			<div class="row">
				<div class="form-group">
				    <label for="ticket_num" class="col-sm-2 control-label">Ticket # / Confirmation #</label>
				    <div class="col-sm-8">
				        <input name="commission[ticket_num]" type="text" class="form-control" id="ticket_num" required/>
				    </div>
				</div>
			</div>
			<div class="row">
				<div class="form-group">
				    <label for="supplier_name" class="col-sm-2 control-label">Supplier Name</label>
				    <div class="col-sm-8">
				        <input name="commission[supplier_name]" type="text" class="form-control" id="supplier_name" required/>
				    </div>
				</div>
			</div>
			<div class="row">
				<div class="form-group">
				    <label for="airline" class="col-sm-2 control-label">Airline</label>
				    <div class="col-sm-8">
				        <input name="commission[airline]" type="text" class="form-control" id="airline" required/>
				    </div>
				</div>
			</div>
			<div class="row">
				<div class="form-group">
				    <label for="hotel" class="col-sm-2 control-label">Hotel</label>
				    <div class="col-sm-8">
				        <input name="commission[hotel]" type="text" class="form-control" id="hotel" required/>
				    </div>
				</div>
			</div>
			<div class="row">
				<div class="form-group">
				    <label for="car_rental" class="col-sm-2 control-label">Car Rental Agency</label>
				    <div class="col-sm-8">
				        <input name="commission[car_rental]" type="text" class="form-control" id="car_rental" required/>
				    </div>
				</div>
			</div>
			<div class="row">
				<div class="form-group">
				    <label for="c2go" class="col-sm-2 control-label">C2GO ID #</label>
				    <div class="col-sm-8">
				        <input name="commission[c2go]" type="text" class="form-control" id="c2go" required/>
				        <small class="form-text text-muted c2go-text">Use the 5 digit number after CG found on the front of your card.</small>
				    </div>
				</div>
			</div>
			<div class="row">
				<div class="form-group">
				    <label for="total_price" class="col-sm-2 control-label">Trip Total Price</label>
				    <div class="col-sm-8">
				        <input name="commission[total_price]" type="number" class="form-control" id="total_price" required/>
				    </div>
				</div>
			</div>
			<div class="row">
				<div class="form-group">
				    <label for="estimate" class="col-sm-2 control-label">Estimated Commission Total</label>
				    <div class="col-sm-8">
				        <input name="commission[estimate]" type="text" class="form-control" id="estimate" required/>
				    </div>
				</div>
			</div>
			<div class="row">
				<div class="form-group">
				    <label for="payment_form" class="col-sm-2 control-label">Form of Payment</label>
				    <div class="col-sm-8">
				        <input name="commission[payment_form]" type="text" class="form-control" id="payment_form" required/>
				    </div>
				</div>
			</div>
			<div class="row">
				<div class="form-group">
				    <label for="last_four" class="col-sm-2 control-label">Last 4 Digits of Credit Card</label>
				    <div class="col-sm-8">
				        <input name="commission[last_four]" type="text" class="form-control" id="last_four"/>
				    </div>
				</div>
			</div>
			<div class="row">
				<div class="form-group">
				    <label for="comments" class="col-sm-2 control-label">Comments</label>
				    <div class="col-sm-8">
				        <textarea name="commission[comments]" class="form-control" id="comments" rows="8"></textarea>
				        <div class="characters">0/250</div>
				    </div>
				</div>
			</div>
			<div class="row">
				<div class="form-group">
				    <div class="col-sm-12 btn-col">
				        <button class="btn btn-contact">Submit</button>
				    </div>
				</div>
			</div>
			</form>
</div>

<script type="text/javascript">
	$(document).on('turbolinks:load',function(){

		$('textarea').keyup(function(){
			var len = $(this).val().length;
			$(this).next('.characters').html(len + "/250")
			if(len >= 250){
				$(this).next('.characters').addClass('red');
				$(this).next('.characters').removeClass('green');
			}
			else if(len == 0 ){
				$(this).next('.characters').addClass('red');
				$(this).next('.characters').removeClass('green');
			}
			else{
				$(this).next('.characters').addClass('green');
				$(this).next('.characters').removeClass('red');
			}
		})

		$('#tracker-form').validate({
			rules: {
				'commission[c2go]': {
					maxlength: 7
				},
				'commission[traveler_names]': {
					maxlength: 250
				},
				'commission[itinerary]': {
					maxlength: 250
				},
				'commission[comments]': {
					maxlength: 250
				}
			},
	        highlight: function (element) {
	            $(element).closest('.form-group').removeClass('has-success').addClass('has-error');
	        },
	        success: function (element) {
	            element.closest('.form-group').removeClass('has-error').addClass('has-success');
	        }
		});
	})
</script>